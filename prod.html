<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mind Hive</title>
<style>
  body { font-family:"Segoe UI", Arial,sans-serif; background:linear-gradient(135deg,#667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%); background-size:400% 400%; animation:gradientShift 15s ease infinite; display:flex; justify-content:center; align-items:center; min-height:100vh; padding:20px; }
  @keyframes gradientShift { 0%{background-position:0% 50%;} 50%{background-position:100% 50%;} 100%{background-position:0% 50%;} }
  .app-container { width:375px; max-width:100%; background:rgba(255,255,255,0.95); backdrop-filter:blur(20px); border-radius:30px; box-shadow:0 20px 60px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.2); padding:25px; position:relative; overflow:hidden; display:flex; flex-direction:column; align-items:center; }
  .app-container::before { content:''; position:absolute; top:0; left:0; right:0; bottom:0; background:linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%); pointer-events:none; border-radius:30px; }
  .screen { display:none; flex-direction:column; align-items:center; width:100%; text-align:center; animation:fadeIn 0.4s ease; }
  .active { display:flex; }
  @keyframes fadeIn { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
  h1,h2 { margin-bottom:20px; color:#222; }
  .btn { cursor:pointer; border:none; border-radius:12px; padding:12px 20px; font-size:16px; margin:8px 0; transition:0.3s; width:85%; }
  .main-btn { background:#3a86ff; color:white; font-weight:bold; } 
  .main-btn:hover{background:#265d97;}
  .back-btn{ background:#999; color:white; width:auto; padding:6px 14px; font-size:14px; border-radius:8px; }
  .home-btn{ position:absolute; top:10px; left:15px; background:#ff006e; color:white; border:none; border-radius:8px; padding:8px 12px; font-size:14px; font-weight:bold; cursor:pointer; display:none; }
  .profile-form input, .profile-form select { width:100%; padding:10px; margin:8px 0; border:1px solid #ccc; border-radius:8px; font-size:14px; }
  .profile { text-align:left; padding:15px; background:#f9f9f9; border-radius:12px; width:100%; max-width:300px; line-height:1.6; }
  .profile-card { background:#f8f9fa; padding:15px; border-radius:15px; margin:10px 0; font-size:14px; width:100%; max-width:300px; text-align:left; }
  .progress-bar { background:#ddd; border-radius:10px; overflow:hidden; height:15px; margin:5px 0; width:100%; max-width:300px; }
  .progress { background:linear-gradient(90deg,#3a86ff,#00b4d8); height:100%; width:0%; transition:width 0.3s; }

  /* Flashcards */
  .flashcards-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    width: 100%;
    flex-wrap: wrap;
    margin-bottom: 10px;
  }
  .flashcard {
    position: relative;
    width: 160px; 
    height: 220px; 
    perspective: 1000px;
    cursor: pointer;
    border-radius: 30px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.3), 0 5px 15px rgba(0,0,0,0.2);
    transition: all 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
    overflow: hidden;
    display: flex;
  }
  .flashcard .front, .flashcard .back {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 30px;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    font-weight: bold;
    padding: 15px;
    text-align: center;
    line-height: 1.3;
    box-sizing: border-box;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
  }
  .flashcard .front { background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); color:white; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
  .flashcard .back { background:linear-gradient(135deg, #f8f9ff 0%, #e8ecff 100%); color:#2d3748; transform:rotateY(180deg); border: 2px solid rgba(102, 126, 234, 0.2); font-weight:600; }
  .flashcard.flipped .front { transform:rotateY(180deg); }
  .flashcard.flipped .back { transform:rotateY(360deg); }
  .flashcard::before { content:''; position:absolute; top:8px; left:50%; transform:translateX(-50%); width:40px; height:6px; background:#222; border-radius:3px; }

  /* Budget */
  .budget-form input { width:80%; padding:8px; margin:5px 0; border-radius:6px; border:1px solid #ccc; }
  .budget-history { margin-top:10px; width:100%; font-size:14px; text-align:left; }
  .budget-history li { margin:5px 0; }

  /* Enhanced Budget Styling */
  .budget-form {
    background: linear-gradient(135deg, #f8f9ff 0%, #e8ecff 100%);
    padding: 20px;
    border-radius: 20px;
    border: 2px solid rgba(102, 126, 234, 0.1);
    margin-bottom: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  }
  .budget-form input {
    width: 80%;
    padding: 12px 16px;
    margin: 8px 0;
    border-radius: 12px;
    border: 2px solid rgba(102, 126, 234, 0.2);
    font-size: 16px;
    transition: all 0.3s ease;
    background: white;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  .budget-form input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
  }
  .budget-form button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  }
  .budget-form button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
  }
  #budgetSummary {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 15px 20px;
    border-radius: 15px;
    font-weight: 600;
    margin: 15px 0;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    box-shadow: 0 8px 25px rgba(240, 147, 251, 0.3);
  }
  .budget-history {
    background: rgba(255,255,255,0.8);
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }
  .budget-history li {
    padding: 8px 12px;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 8px;
    border-left: 4px solid #667eea;
    margin: 8px 0;
  }

  /* Quiz Styling */
  .quiz-container {
    width: 100%;
    max-width: 350px;
    margin: 0 auto;
    padding: 20px;
    text-align: center;
  }
  .quiz-question {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px 20px;
    border-radius: 20px;
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 25px;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .quiz-options {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
  }
  .quiz-option {
    background: white;
    border: 3px solid #e1e8ed;
    border-radius: 15px;
    padding: 18px 20px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    position: relative;
    overflow: hidden;
  }
  .quiz-option:hover {
    border-color: #3a86ff;
    background: #f8fbff;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(58, 134, 255, 0.2);
  }
  .quiz-option:active {
    transform: translateY(0);
  }
  .quiz-option::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: left 0.5s;
  }
  .quiz-option:hover::before {
    left: 100%;
  }

  /* Quiz Popup Message */
  .quiz-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    background: white;
    padding: 30px 40px;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    z-index: 1000;
    text-align: center;
    min-width: 280px;
    transition: all 0.3s ease;
    opacity: 0;
  }
  .quiz-popup.show {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  .quiz-popup.correct {
    border-left: 6px solid #4CAF50;
  }
  .quiz-popup.wrong {
    border-left: 6px solid #f44336;
  }
  .quiz-popup-icon {
    font-size: 60px;
    margin-bottom: 15px;
    display: block;
  }
  .quiz-popup-title {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 10px;
    color: #333;
  }
  .quiz-popup-message {
    font-size: 16px;
    color: #666;
    margin-bottom: 20px;
    line-height: 1.4;
  }
  .quiz-popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }
  .quiz-popup-overlay.show {
    opacity: 1;
    visibility: visible;
  }

  /* Tip Bubble */
  .tip-bubble { position:absolute; top:10px; right:10px; background:#fff3cd; padding:10px 15px; border-radius:12px; font-size:13px; border-left:4px solid #ffcc00; box-shadow:0 3px 8px rgba(0,0,0,0.1); display:none; max-width:200px; }
</style>
</head>
<body>
<div class="app-container">
<button id="homeBtn" class="home-btn" onclick="confirmHome()">Home</button>

<div id="welcomeScreen" class="screen active">
<h1>Welcome to Hive Mind</h1>
<p>Learn • Budget • Quiz • Tips</p>
<button class="btn main-btn" onclick="showScreen('profileSetup')">Get Started</button>
</div>

<div id="profileSetup" class="screen">
<h2>Set Up Profile</h2>
<div class="profile-form">
<input type="text" id="userName" placeholder="Your Name">
<select id="userLevel">
<option>Beginner</option><option>Intermediate</option><option>Advanced</option>
</select>
<button class="btn main-btn" onclick="saveProfile()">Save Profile</button>
</div>
<button class="back-btn" onclick="showScreen('welcomeScreen')">⬅ Back</button>
</div>

<div id="mainMenu" class="screen">
<h2>Main Menu</h2>
<div class="profile-card">
<strong>Day Streak:</strong> <span id="streak">0</span> 🔥<br>
<strong>Lessons Completed:</strong> <span id="lessons">0</span><br>
<strong>Average Score:</strong> <span id="avgScore">0</span>%<br>
<strong>Learning Progress:</strong>
<div class="progress-bar"><div id="progress" class="progress"></div></div>
</div>
<button class="btn main-btn" onclick="showScreen('flashcards')">📘 Flashcards</button>
<button class="btn main-btn" onclick="showScreen('quiz')">📝 Quiz</button>
<button class="btn main-btn" onclick="showScreen('budget')">💰 Budget Tracker</button>
<button class="btn main-btn" onclick="viewProfile()">👤 Profile</button>
</div>

<div id="flashcards" class="screen">
<h2>Flashcards</h2>
<div class="flashcards-container" id="flashcardContainer">
<!-- flashcards will appear here -->
</div>
<button class="btn main-btn" onclick="nextFlashcards()">Next Set</button>
<button class="back-btn" onclick="showScreen('mainMenu')">⬅ Back</button>
</div>

<div id="quiz" class="screen">
<h2>Quiz</h2>
<div class="quiz-question" id="quizQ"></div>
<div class="quiz-options" id="quizOptions"></div>
<button class="back-btn" onclick="showScreen('mainMenu')">⬅ Back</button>
</div>

<div id="budget" class="screen">
<h2>Budget Tracker</h2>
<div class="budget-form">
<input type="number" id="income" placeholder="Income">
<input type="number" id="expense" placeholder="Expense">
<button onclick="calcBudget()">Add</button>
</div>
<div id="budgetSummary">Income: 0 | Expenses: 0 | Balance: 0</div>
<ul class="budget-history" id="budgetHistory"></ul>
<button class="back-btn" onclick="showScreen('mainMenu')">⬅ Back</button>
</div>

<div id="profileView" class="screen">
<h2>User Profile</h2>
<div class="profile" id="profileInfo"></div>
<button class="back-btn" onclick="showScreen('mainMenu')">⬅ Back</button>
</div>

<div id="tipBubble" class="tip-bubble"></div>

<!-- Quiz Popup -->
<div id="quizPopupOverlay" class="quiz-popup-overlay" onclick="hideQuizPopup()"></div>
<div id="quizPopup" class="quiz-popup">
<span id="quizPopupIcon" class="quiz-popup-icon"></span>
<div id="quizPopupTitle" class="quiz-popup-title"></div>
<div id="quizPopupMessage" class="quiz-popup-message"></div>
</div>
</div>

<script>
let profile={name:"",level:"",streak:0,lessons:0,scores:[]};
let totalIncome=0,totalExpense=0,history=[],quizIndex=0;

function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.getElementById("homeBtn").style.display=(id!=="welcomeScreen" && id!=="profileSetup")?"block":"none";
  if(id==="quiz") loadQuiz();
}

function confirmHome(){ if(confirm("Return Home?")) showScreen("welcomeScreen"); }

function saveProfile(){
  profile.name=document.getElementById("userName").value||"Guest";
  profile.level=document.getElementById("userLevel").value;
  let today=new Date().toDateString(),lastLogin=localStorage.getItem("lastLogin");
  if(lastLogin!==today){ profile.streak=(parseInt(localStorage.getItem("streak"))||0)+1; localStorage.setItem("streak",profile.streak); localStorage.setItem("lastLogin",today); }
  else profile.streak=localStorage.getItem("streak");
  updateProfile();
  showScreen("mainMenu");
  localStorage.setItem("profile",JSON.stringify(profile));
}

function updateProfile(){
  document.getElementById("streak").innerText=profile.streak;
  document.getElementById("lessons").innerText=profile.lessons;
  let avg=profile.scores.length? (profile.scores.reduce((a,b)=>a+b,0)/profile.scores.length).toFixed(1):0;
  document.getElementById("avgScore").innerText=avg;
  document.getElementById("progress").style.width=Math.min(profile.lessons*20,100)+"%";
}

function viewProfile(){
  document.getElementById("profileInfo").innerHTML=`<p><b>Name:</b> ${profile.name}</p><p><b>Level:</b> ${profile.level}</p>`;
  showScreen("profileView");
}

function flipCard(card){ card.classList.toggle("flipped"); }

function completeLesson(){ profile.lessons++; updateProfile(); }

function calcBudget(){
  let income=parseFloat(document.getElementById("income").value)||0;
  let expense=parseFloat(document.getElementById("expense").value)||0;
  totalIncome+=income; totalExpense+=expense;
  let balance=totalIncome-totalExpense;
  if(income) history.push(`+ Income: ${income}`); if(expense) history.push(`- Expense: ${expense}`);
  document.getElementById("budgetSummary").innerText=`Income: ${totalIncome} | Expenses: ${totalExpense} | Balance: ${balance}`;
  document.getElementById("budgetHistory").innerHTML=history.map(i=>`<li>${i}</li>`).join("");
  document.getElementById("income").value=""; document.getElementById("expense").value="";
}

/* Flashcards sets */
const flashcardSets=[
  [{front:"Assets",back:"Resources owned by a business"},{front:"Liabilities",back:"Debts or obligations"}],
  [{front:"Revenue",back:"Income earned"},{front:"Expenses",back:"Costs spent"}]
];
let currentFlashSet=0;

function showFlashcards(){
  const container=document.getElementById("flashcardContainer");
  container.innerHTML="";
  flashcardSets[currentFlashSet].forEach(card=>{
    const div=document.createElement("div");
    div.className="flashcard";
    div.onclick=function(){ flipCard(div); completeLesson(); };
    div.innerHTML=`<div class="front">${card.front}</div><div class="back">${card.back}</div>`;
    container.appendChild(div);
  });
}

function nextFlashcards(){
  currentFlashSet=(currentFlashSet+1)%flashcardSets.length;
  showFlashcards();
}

/* Quiz */
const quizData=[
  {q:"Assets are?",options:["Debts","Resources owned","Income"],ans:"Resources owned"},
  {q:"Liabilities are?",options:["Owner's claim","Debts or obligations","Revenue"],ans:"Debts or obligations"},
  {q:"Revenue means?",options:["Cost","Income earned","Loss"],ans:"Income earned"},
  {q:"Expenses mean?",options:["Profit","Costs spent","Savings"],ans:"Costs spent"}
];

function loadQuiz(){
  let q=quizData[quizIndex];
  document.getElementById("quizQ").innerText=q.q;
  document.getElementById("quizOptions").innerHTML=q.options.map(o=>`<button class="quiz-option" onclick="checkAnswer('${o}')">${o}</button>`).join("");
}

function checkAnswer(ans){
  let correct=quizData[quizIndex].ans;
  profile.scores.push(ans===correct?100:0); updateProfile();
  showQuizPopup(ans===correct, correct);
  setTimeout(() => {
    quizIndex=(quizIndex+1)%quizData.length; 
    loadQuiz();
  }, 2000);
}

/* Tips */
const tips=["💡 Track expenses daily.","📘 Separate needs from wants.","💰 Save at least 20% of income."];
function showRandomTip(){ const bubble=document.getElementById("tipBubble"); bubble.innerText=tips[Math.floor(Math.random()*tips.length)]; bubble.style.display="block"; setTimeout(()=>bubble.style.display="none",6000);}
setInterval(showRandomTip,15000);

function showQuizPopup(isCorrect, correctAnswer) {
  const popup = document.getElementById('quizPopup');
  const overlay = document.getElementById('quizPopupOverlay');
  const icon = document.getElementById('quizPopupIcon');
  const title = document.getElementById('quizPopupTitle');
  const message = document.getElementById('quizPopupMessage');
  
  if (isCorrect) {
    popup.className = 'quiz-popup correct';
    icon.textContent = '✅';
    title.textContent = "You're Correct!";
    message.textContent = 'Great job! You got it right.';
  } else {
    popup.className = 'quiz-popup wrong';
    icon.textContent = '❌';
    title.textContent = "You're Wrong!";
    message.textContent = `The correct answer is: ${correctAnswer}`;
  }
  
  overlay.classList.add('show');
  popup.classList.add('show');
  
  setTimeout(() => {
    hideQuizPopup();
  }, 1800);
}

function hideQuizPopup() {
  const popup = document.getElementById('quizPopup');
  const overlay = document.getElementById('quizPopupOverlay');
  
  popup.classList.remove('show');
  overlay.classList.remove('show');
}

/* Initialize first flashcards */
showFlashcards();
</script>
</body>
</html>